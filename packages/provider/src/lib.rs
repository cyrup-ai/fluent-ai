//! Fluent AI Provider Library
//!
//! This crate provides provider and model implementations for AI services.
//! The core domain types are now defined in the domain package.

// Re-export domain types for backward compatibility
pub use fluent_ai_domain::{
    model_info::ModelInfoData,
    models::Models,
};

// Provider client implementations
pub mod clients;

// Re-export Candle client for convenience
#[cfg(feature = "candle")]
pub use clients::candle::{CandleCompletionClient, CandleProvider, CandleModel};

// Client factory for provider-to-client mapping
pub mod client_factory;

// Security and credential management
pub mod security;

// Client traits (NOT domain objects)
pub mod client;

// Universal completion provider trait
pub mod completion_provider;

// Re-export client traits for provider implementations
pub use client::*;
pub use completion_provider::*;
pub use providers::Providers;

// Re-export fluent-ai types for provider implementations
pub use fluent_ai_domain as domain;
pub use fluent_ai_domain::AsyncTask;
pub use fluent_ai_domain::spawn_async;
pub use cyrup_sugars::{OneOrMany, ZeroOneOrMany};

// Create our own AsyncStream type for provider compatibility
pub type AsyncStream<T> = tokio_stream::wrappers::UnboundedReceiverStream<T>;
pub type AsyncStreamSender<T> = tokio::sync::mpsc::UnboundedSender<T>;

// Helper to create async stream channel
pub fn async_stream_channel<T>() -> (AsyncStreamSender<T>, AsyncStream<T>) {
    let (tx, rx) = tokio::sync::mpsc::unbounded_channel();
    (tx, tokio_stream::wrappers::UnboundedReceiverStream::new(rx))
}

// Extension methods for Providers enum will be auto-generated by build.rs
